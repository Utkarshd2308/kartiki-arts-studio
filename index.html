<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kartiki Resin Arts | Handcrafted Resin Products</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        *{margin:0;padding:0;box-sizing:border-box}
        html{overflow-x:hidden}
        body{font-family:system-ui,-apple-system,sans-serif;background:linear-gradient(135deg,#f5f7fa,#c3cfe2);color:#333; min-height: 100vh;}
        img{max-width:100%;display:block}
        
        /* Sidebar */
        .sidebar{position:fixed;left:-250px;top:0;width:250px;height:100%;background:#b02e72;color:#fff;padding:2rem 1rem;box-shadow:2px 0 12px rgba(0,0,0,.2);transition:.3s;z-index:1500;}
        .sidebar h2{margin-bottom:2rem;text-align:center}
        .sidebar ul{list-style:none}
        .sidebar ul li{margin:1rem 0}
        .sidebar ul li a{color:#fff;text-decoration:none;font-weight:600;display:block;padding:.5rem 0;}
        .close-sidebar{position:absolute;top:10px;right:10px;font-size:24px;border:none;background:none;color:#fff;cursor:pointer;}
        
        /* Header */
        .top-header{position:sticky;top:0;z-index:100;background:#fff;box-shadow:0 4px 18px rgba(0,0,0,.08);}
        .top-header-inner{max-width:1200px;margin:auto;padding:1rem;display:flex;align-items:center;gap:1rem;}
        .brand-logo{width:50px;height:50px;border-radius:50%;background:#b02e72;color:#fff;display:flex;align-items:center;justify-content:center;font-weight:800;font-size: 1.5rem;}
        .sidebar-toggle{background:#b02e72;color:#fff;border:none;padding:.5rem .8rem;border-radius:8px;cursor:pointer;font-size:20px;}
        .admin-btn{margin-left:auto;padding:.5rem 1.2rem;border-radius:20px;border:2px solid #f2c9e3;background:#fff0fb;color:#b02e72;cursor:pointer;font-weight:700;}
        
        .search-row{padding:1rem;display:flex;flex-direction:column;gap:.8rem; max-width: 1200px; margin: auto;}
        .search-box{display:flex;border:2px solid #e7c7df;border-radius:30px;overflow:hidden;background: #fff;}
        .search-box input{flex:1;border:none;padding:.7rem 1rem;outline:none;}
        .search-box button{border:none;background:#b02e72;color:#fff;padding:.7rem 1.2rem;cursor: pointer;}
        
        .filter-social-row{display:flex;align-items:center;justify-content:space-between;gap:1rem;}
        .filter-social-row select{padding:.45rem .8rem;border-radius:20px; border: 1px solid #ccc; outline: none; background: white;}
        .social-icons{display:flex;gap:.6rem;}
        .social-icons img{width:34px;height:34px;cursor:pointer;transition:.25s;}

        /* Category Scroll Bar */
        .cat-scroll-container { 
            display: flex; gap: 15px; overflow-x: auto; 
            padding: 15px 1rem; scrollbar-width: none; 
            max-width: 1200px; margin: auto;
        }
        .cat-scroll-container::-webkit-scrollbar { display: none; }
        .cat-item { flex: 0 0 auto; text-align: center; cursor: pointer; width: 80px; }
        .cat-circle { 
            width: 80px; height: 80px; border-radius: 50%; 
            border: 2px solid #b02e72; margin: 0 auto 5px; 
            overflow: hidden; background: #fff; box-shadow: 0 3px 8px rgba(0,0,0,0.1);
        }
        .cat-circle img { width: 100%; height: 100%; object-fit: cover; }
        .cat-name { font-size: 0.7rem; font-weight: 700; color: #b02e72; text-transform: uppercase; display: block; }

        /* Products Grid */
        .products-section{max-width:1200px;margin:0 auto;padding:1rem; padding-bottom: 50px;}
        .section-title{text-align:center;font-size:1.6rem;margin-bottom:1.5rem; color: #b02e72;}
        .products-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:1.2rem;}
        @media(min-width:900px){.products-grid{grid-template-columns:repeat(4,1fr)}}
        
        .product-card{background:#fff;border-radius:18px;overflow:hidden;box-shadow:0 4px 15px rgba(0,0,0,0.1);cursor:pointer;transition:.3s; display: flex; flex-direction: column;}
        .product-card:hover{transform: translateY(-5px);}
        .product-image{width:100%;aspect-ratio:1/1;object-fit:cover;background:#f8f9fa;}
        .product-info{padding:1rem; flex-grow: 1; display: flex; flex-direction: column; justify-content: space-between;}
        .product-category{font-size:.7rem;color:#b02e72; font-weight: bold; text-transform: uppercase;}
        .product-name{font-weight:700;margin:.3rem 0; font-size: 0.95rem; color: #444;}
        .product-price{color:#e74c3c;font-weight:800; font-size: 1.1rem;}
        .view-details-btn{width:100%;padding:.6rem;background:#28a745;color:#fff;border:none;border-radius:12px; cursor: pointer; font-weight: 600; margin-top: 8px;}

        /* Contact Section */
        .contact-container { display: flex; gap: 10px; justify-content: center; flex-wrap: wrap; padding: 20px 10px; }
        .contact-card { background: #ffffff; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); padding: 15px 10px; width: calc(50% - 15px); min-width: 160px; text-align: center; border: 1px solid #eee; }
        .icon-box { font-size: 30px; margin-bottom: 10px; }
        .card-title { font-size: 16px; font-weight: bold; color: #333; margin-bottom: 5px; }
        .card-text { font-size: 12px; color: #666; margin-bottom: 15px; }
        .btn-link { text-decoration: none; color: white; background: #b02e72; padding: 8px 15px; border-radius: 20px; font-size: 13px; display: inline-block; }

        @media(min-width: 768px) {
            .contact-card { width: 280px; padding: 25px; }
            .card-title { font-size: 20px; }
            .card-text { font-size: 14px; }
            .icon-box { font-size: 40px; }
        }
    </style>
</head>
<body>

<div id="sidebar" class="sidebar">
    <button class="close-sidebar" onclick="toggleSidebar()">√ó</button>
    <h2>Menu</h2>
    <ul>
        <li><a href="#" onclick="location.reload()">Home</a></li>
        <li><a href="https://wa.me/919579590991" target="_blank">Contact Us</a></li>
    </ul>
</div>

<header class="top-header">
    <div class="top-header-inner">
        <button class="sidebar-toggle" onclick="toggleSidebar()"><i class="fa fa-bars"></i></button>
        <div class="brand-logo">K</div>
        <strong style="color: #b02e72; font-size: 1.2rem; margin-left: 10px;">Kartiki Resin Arts</strong>
        <button class="admin-btn" onclick="openAdmin()">Admin</button>
    </div>
    <div class="search-row">
        <div class="search-box">
            <input id="searchInput" placeholder="Search handcrafted art..." onkeyup="applyFilters()">
        </div>
        <div class="filter-social-row">
            <select id="categorySelect" onchange="applyFilters()">
                <option value="all">All Categories</option>
            </select>
            <div class="social-icons">
                <img src="https://cdn-icons-png.flaticon.com/128/3955/3955024.png" onclick="openSocial('instagram')">
                <img src="https://cdn-icons-png.flaticon.com/128/3670/3670147.png" onclick="openSocial('youtube')">
            </div>
        </div>
    </div>
</header>

<br>
<h2 class="section-title">Categories</h2>
<div class="cat-scroll-container" id="categoryCircles"></div>

<section class="products-section">
    <h2 class="section-title">Our Collection</h2>
    <div id="productsGrid" class="products-grid"></div>
</section>

<h2 class="section-title">Contact Us</h2>
<div class="contact-container">
    <div class="contact-card">
        <div class="icon-box">
            <div align="center"><img src="https://cdn-icons-png.flaticon.com/128/3670/3670051.png" height="40px" width="40px"></div>
        </div>
        <div class="card-title">WhatsApp</div>
        <div class="card-text">Chat with us directly.</div>
        <a href="https://wa.me/919579590991" class="btn-link" target="_blank">Chat Now</a>
    </div>

    <div class="contact-card">
        <div class="icon-box">üìû</div>
        <div class="card-title">Call Us</div>
        <div class="card-text">Call for quick help.</div>
        <a href="tel:+919579590991" class="btn-link">Call Now</a>
    </div>
</div>

<div align="center" style="padding: 20px;"><h3>¬© 2026 Kartiki Resin Arts. All Rights Reserved. | Designed with ‚ù§Ô∏è</h3></div>

<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

<script>
const firebaseConfig = {
    apiKey: "AIzaSyBHDap_BTykTSNcH0l1m1VdLB_MK6LgZCo",
    authDomain: "artikiart.firebaseapp.com",
    projectId: "artikiart",
    storageBucket: "artikiart.firebasestorage.app",
    messagingSenderId: "191730558371",
    appId: "1:191730558371:web:f3a64f2a04a78fa5a0a616",
    measurementId: "G-3L47DKFDSQ"
};

firebase.initializeApp(firebaseConfig);
const db = firebase.database();

let allProducts = [];

function syncData() {
    db.ref('products').on('value', (pSnap) => {
        const pData = pSnap.val() || {};
        allProducts = Object.keys(pData).map(key => ({ id: key, ...pData[key] }));

        db.ref('categories').on('value', (cSnap) => {
            const categories = cSnap.val() || {};
            const catCircles = document.getElementById("categoryCircles");
            const select = document.getElementById("categorySelect");
            
            catCircles.innerHTML = "";
            select.innerHTML = '<option value="all">All Categories</option>';

            Object.values(categories).forEach(cat => {
                const firstProd = allProducts.find(p => p.category === cat);
                const imgUrl = (firstProd && firstProd.images) ? firstProd.images[0] : 'https://via.placeholder.com/100?text=Art';

                select.innerHTML += `<option value="${cat}">${cat}</option>`;
                catCircles.innerHTML += `
                    <div class="cat-item" onclick="filterByCat('${cat}')">
                        <div class="cat-circle"><img src="${imgUrl}"></div>
                        <span class="cat-name">${cat}</span>
                    </div>`;
            });
            applyFilters();
        });
    });
}

function filterByCat(cat) {
    document.getElementById("categorySelect").value = cat;
    applyFilters();
    window.scrollTo({ top: 150, behavior: 'smooth' });
}

function applyFilters() {
    const searchTerm = document.getElementById("searchInput").value.toLowerCase();
    const selectedCat = document.getElementById("categorySelect").value;
    const filtered = allProducts.filter(p => {
        const matchesCategory = (selectedCat === "all" || p.category === selectedCat);
        const matchesSearch = p.name.toLowerCase().includes(searchTerm);
        return matchesCategory && matchesSearch;
    });
    displayProducts(filtered);
}

// ‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§¨‡§¶‡§≤: 'openModal' ‡§ê‡§µ‡§ú‡•Ä ‡§Ü‡§§‡§æ ‡§π‡•á ‡§´‡§Ç‡§ï‡•ç‡§∂‡§® 'product-details.html' ‡§µ‡§∞ ‡§®‡•á‡§à‡§≤
function displayProducts(list) {
    const grid = document.getElementById("productsGrid");
    grid.innerHTML = list.length === 0 ? "<div style='grid-column: 1/-1; text-align:center; padding: 40px;'>No products found.</div>" : "";
    list.forEach((p) => {
        const mainImg = (p.images && p.images.length > 0) ? p.images[0] : 'https://via.placeholder.com/300?text=No+Image';
        grid.innerHTML += `
            <div class="product-card" onclick="goToDetails('${p.id}')">
                <img src="${mainImg}" class="product-image" alt="${p.name}">
                <div class="product-info">
                    <div>
                        <div class="product-category">${p.category}</div>
                        <div class="product-name">${p.name}</div>
                    </div>
                    <div>
                        <div class="product-price">‚Çπ${p.price}</div>
                        <button class="view-details-btn">View Details</button>
                    </div>
                </div>
            </div>`;
    });
}

// ‡§®‡§µ‡•Ä‡§® ‡§´‡§Ç‡§ï‡•ç‡§∂‡§® ‡§ú‡•á ‡§™‡•ç‡§∞‡•ã‡§°‡§ï‡•ç‡§ü ‡§Ü‡§Ø‡§°‡•Ä ‡§ò‡•á‡§ä‡§® ‡§®‡§µ‡•Ä‡§® ‡§™‡•á‡§ú‡§µ‡§∞ ‡§ú‡§æ‡§§‡•á
function goToDetails(id) {
    window.location.href = `product details.html?id=${id}`;
}

function toggleSidebar() {
    const sb = document.getElementById("sidebar");
    sb.style.left = (sb.style.left === "0px") ? "-250px" : "0px";
}

function openAdmin() { window.location.href = "admin products.html"; }

function openSocial(platform) {
    const urls = { instagram: "https://www.instagram.com/kartiki_art_studio", youtube: "https://www.youtube.com/@kartikiswami" };
    window.open(urls[platform], "_blank");
}

document.addEventListener("DOMContentLoaded", syncData);
</script>
</body>
</html>